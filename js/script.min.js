"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}var Asteroid=function(){function e(t,o,i,n,a,s,r,c,u,h,l,d){_classCallCheck(this,e),this.id=t,this.title=o,this.width=i,this.height=n,this.x=a,this.y=s,this.xv=r,this.yv=c,this.color=u,this.type=h,this.oob=l,this.points=d,this.gravity=.1,this.gravitySpeed=0,this.bounce=.4}return _createClass(e,[{key:"resetGravity",value:function(){}},{key:"newPos",value:function(){this.gravitySpeed+=this.gravity,this.x+=this.xvel;var e=this.yv;this.yv<0&&(e=0),e=0,this.y+=e+this.gravitySpeed,this.hitBottom()}},{key:"hitBottom",value:function(){var e=window.innerHeight-this.height;this.y>e&&(this.x=e,this.gravitySpeed=-this.gravitySpeed*this.bounce),this.x>window.innerWidth+this.width&&(this.x=0-this.width),this.x<0-this.width&&(this.x=window.innerWidth+this.width)}},{key:"changeColor",value:function(e){this.color=e}},{key:"oob",value:function(e){this.oob=e}},{key:"changeVelocity",value:function(e,t){"x"==e&&(this.xv=t),"y"==e&&(this.yv=t)}},{key:"changePosition",value:function(e,t){this.x=e,this.y=t}},{key:"getVelocity",value:function(e){return this.direction}},{key:"changeExistance",value:function(e){this.exists=e}}]),e}();Asteroid.colors=["#edc951","#eb6841","#cc2a36","#4f372d","#00a0b0"],Asteroid.rocksLrg=["26.087899,1.0434852 49.503787,26.009091 74.220561,2.6541843 96.335572,25.203747 85.278067,50.974686 98.286898,75.940275 62.512619,99.295186 26.087905,100.10053 0.7206885,77.55096 1.3711312,27.619771","27.46638,2.6445482 66.467442,0.98983643 99.048213,24.999426 V 35.822504 L 65.202598,51.325844 98.421452,73.55696 76.484471,97.835645 H 72.723845 L 60.501821,85.842551 27.596351,98.713169 0.95859607,63.02645 1.8987487,25.29194 H 36.997914","14.670645,48.844427 1.9670478,25.614646 27.37424,2.3848478 48.335078,12.875719 73.107033,1.6354928 97.878992,24.865291 75.012591,39.102909 97.878992,60.834007 75.012591,97.552066 39.442599,87.061197 26.739004,99.050766 1.3318868,75.820971"];var Spaceship=function e(t,o,i,n,a,s,r,c){_classCallCheck(this,e),this.x=t,this.y=o,this.vx=i,this.vy=n,this.theta=a,this.width=14,this.height=10,this.yaw=s,this.x_points=r,this.y_points=c,this.shape=e.SHAPE};Spaceship.SHAPE="14.383032,5.9181762 0.35137621,0.04626516 2.7568063,5.9181762 0.35137621,11.338401";var Shot=function(){function e(t,o,i,n,a,s,r,c,u,h,l){_classCallCheck(this,e),this.id=t,this.team=o,this.x=i,this.y=n,this.vx=a,this.vy=s,this.theta=r,this.width=6,this.height=6,this.yaw=c,this.life=u,this.x_points=h,this.y_points=l}return _createClass(e,[{key:"changePosition",value:function(e,t){this.x=e,this.y=t}},{key:"changeLife",value:function(e){this.life=e}}]),e}(),Sound=function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,e),this.sound=document.createElement("audio"),this.sound.src=t,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),!0===o&&this.sound.setAttribute("loop",o),this.sound.style.display="none",document.body.appendChild(this.sound)}return _createClass(e,[{key:"play",value:function(){this.sound.play()}},{key:"stop",value:function(){this.sound.pause()}},{key:"reset",value:function(){this.sound.currentTime=0}},{key:"loop",value:function(){this.sound.setAttribute("loop",!0)}},{key:"unloop",value:function(){this.sound.removeAttribute("loop")}},{key:"cycle",value:function(){this.sound.pause(),this.sound.currentTime=0,this.sound.play()}}]),e}(),Ufo=function(){function e(t,o,i,n,a,s,r){_classCallCheck(this,e),this.x=t,this.y=o,this.vx=i,this.vy=n,this.theta=a,this.width=52,this.height=42,this.yaw=s,this.points=r}return _createClass(e,[{key:"changePosition",value:function(e,t){this.x=e,this.y=t}}]),e}();Ufo.SHAPE="466.697 275.189, 350.500 226.628, 329.099 170.984, 294.919 147.509, 242.500 147.509, 242.500 112.989, 235.000 105.489, 227.500 112.989, 227.500 147.509, 175.081 147.509, 140.901 170.984, 119.500 226.628, 3.303 275.189, 0.000 281.405, 3.303 287.621, 106.027 332.782, 143.504 364.510, 326.496 364.510, 363.973 332.782, 466.697 287.621, 470.000 281.405, 466.697 275.189";var SpawnBox=function e(t,o){_classCallCheck(this,e),this.x=t,this.y=o,this.width=100,this.height=100},version=1.34,deltaTime=20,lifeStart=3,jumpStart=3,newLifeTarget=1e4,mode="asteroids",modal=document.querySelector("#welcomeModel"),modalDialog=document.querySelector(".modal-dialog"),dialogCloseBtn=document.querySelector(".dialogCloseBtn"),asteroids=[],shots=[],shotCnt=0,xLimit=resetWindowLimit("x")-1,yLimit=resetWindowLimit("y")-1,spaceship=new Spaceship(xLimit/2,yLimit/2,0,0,0,0,0,0),spawnBox=new SpawnBox(xLimit/2-50,yLimit/2-50),lifeCnt=lifeStart,jumpCnt=jumpStart,score=0,newLife=newLifeTarget,resetGun=!0,inPlay=!1,rockId=0,rockCnt=10,scale=1,ufo=new Ufo(-100,-100,0,0,0,0,200),nextEnemy=Math.floor(1e3*getRandomFloat(10,30)),enemyDelay=2e3,enemyUFO=[],ufoShots=[],ufoShotCnt=0,ufoActive=!1,ufoShootingSpeed=1e3,ufoAimStart=50,ufoAim=50,ufoScale=.1,ufoMaxSpeed=3,ufoMinSpeed=1,ufoSizeVar=10,ufoTimer=null,turn=0,thrust=0,turn_per_milli=.1,thrust_per_milli=15e-5,key_delay=50,del_v=0,del_vx=0,del_vy=0,rock_max_v=1.5,rock_max_v_cap=6,screenScale=1,scoreNum=null,versionNum=null,lifeNum=null,highScoreCnt=null,ufoSnd=null,extraLifeSnd=null,ufoBoomSnd=null,ufoBulletSnd=null,shootSnd=null,thrustSnd=null,turnSnd=null,hyperpaceSnd=null,hyperSpaceFailSnd=null,boomSnd=null,astroBoom100Snd=null,astroBoom50Snd=null,astroBoom25Snd=null,saucerBigSnd=null,saucerSmallSnd=null,beat1Snd=null,beat2Snd=null,spaceShipSvg=null,gameWrapper=null,gameOverBoard=null,startOver=null,isMobile=!1,beatCnt=1e3,firstRun=!0,heartBeat=null,soundless=!1,randomBG=!1,currentYear=(new Date).getFullYear(),deg2rad=Math.PI/180;xLimit<414&&(screenScale=1,rockCnt=5,isMobile=!0);var animateScreen=function(){hideCursor(),updateAsteroids(),checkUFO(),updateShots(shots),updateShots(ufoShots),updateSpaceShip(deltaTime),updateScoreCard()},updateScoreCard=function(){scoreNum.innerText=score,lifeNum.innerText=lifeCnt,highScoreCnt.innerText=jumpCnt},updateAsteroids=function(){asteroids.forEach(function(e){e.changePosition(e.x+e.xv,e.y+e.yv),"asteroids"==mode&&((e.x<=0-e.width||e.x>=xLimit+e.width)&&(e.x>=xLimit+e.width?e.x=-Math.abs(0-e.width):e.x=xLimit+e.width),(e.y<=0-e.width||e.y>=yLimit+e.height)&&(e.y>=yLimit+e.height?e.y=-Math.abs(0-e.height):e.y=yLimit+e.height)),1==inPlay&&inCollision(e)&&boom();var t=document.querySelector("#rockAnim".concat(e.id));moveItem(t,e.x,e.y)})},checkUFO=function(){if(null!=ufo&&null!=ufo&&1==ufoActive){ufo.changePosition(ufo.x+ufo.vx,ufo.y+ufo.vy),(ufo.x>xLimit+100||ufo.x<-60&&ufo.x>-199)&&(parkUFO(),spawnEnemy());var e=document.querySelector("#ufoShip");moveItem(e,ufo.x,ufo.y)}},updateShots=function(e){e.forEach(function(e){var t=10*Math.cos(e.theta*Math.PI/180)+e.x,o=10*Math.sin(e.theta*Math.PI/180)+e.y,i=e.life-5,n="spaceShip"===e.team?"spaceShipShot".concat(e.id):"ufoShot".concat(e.id);e.changeLife(i);var a=document.querySelector("#".concat(n));e.life<0?shots=clearBullet(shots,e.id,n):(e.changePosition(t,o),moveItem(a,e.x,e.y),"spaceShip"===e.team&&(isHit(e)&&(shots=clearBullet(shots,e.id,n)),isUfoHit(e)&&(shots=clearBullet(shots,e.id,n))),"ufo"===e.team&&isSpaceShipHit(e)&&(ufoShots=clearBullet(ufoShots,e.id,n)))})};function regenerateAsteroids(){scale=1,beatCnt=1e3,clearInterval(heartBeat),(rock_max_v+=.25)>=rock_max_v_cap&&(rock_max_v=rock_max_v_cap);for(var e=0;e<rockCnt;e++){rockId++;asteroids.push(new Asteroid(rockId,"asteroid".concat(rockId),100/screenScale,100/screenScale,getSafeRandomFloat(0,xLimit-150),getSafeRandomFloat(0,yLimit-150),getRandomFloat(-Math.abs(rock_max_v),rock_max_v),getRandomFloat(-Math.abs(rock_max_v),rock_max_v),Asteroid.colors[Math.floor(getRandomFloat(0,5))],"generic",!1,20))}asteroids.forEach(function(e){makeRock(e.id,e.width,e.height,e.color,scale,Asteroid.rocksLrg[Math.floor(getRandomFloat(0,3))])})}function makeRock(e,t,o,i,n,a){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("id","rockAnim".concat(e)),s.setAttribute("data-id",e),s.setAttribute("aria-hidden","true"),s.style.cssText="color:".concat(i,", border-color:").concat(i),s.setAttribute("class","asteroid rockAnim"),s.classList.add("rock".concat(100*n));var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("fill-rule","evenodd"),r.setAttribute("d","M".concat(a," Z")),r.setAttribute("stroke",i),r.setAttribute("stroke-width",2),r.setAttribute("cx",t),r.setAttribute("cy",o),r.setAttribute("r",10),r.setAttribute("transform","scale(".concat(n,", ").concat(n,")")),s.appendChild(r),document.body.appendChild(s)}function makeAsteroidPieces(e,t,o,i){for(var n=0;n<i;n++){rockId++;var a=rock_max_v,s=20;switch(o){case 100:scale="1",a=rock_max_v,s=20;break;case 50:scale=".5",a=rock_max_v+1,s=50;break;case 25:scale=".25",a=rock_max_v+2,s=100}asteroids.push(new Asteroid(rockId,"asteroid".concat(rockId),o,o,e,t,getRandomFloat(-Math.abs(a),a),getRandomFloat(-Math.abs(a),a),Asteroid.colors[Math.floor(getRandomFloat(0,5))],"generic",!1,s)),makeRock(asteroids[asteroids.length-1].id,asteroids[asteroids.length-1].width,asteroids[asteroids.length-1].height,asteroids[asteroids.length-1].color,scale,Asteroid.rocksLrg[Math.floor(getRandomFloat(0,3))])}}function blowUpAsteroid(e,t,o){switch(console.log(e),e.width){case 100:astroBoom100Snd.cycle();break;case 50:astroBoom50Snd.cycle();break;case 25:astroBoom25Snd.cycle()}pointCnt(e.points),heartBeatSnd(beatCnt-=12),e.height>25&&makeAsteroidPieces(e.x,e.y,e.height/2,2),clearDomItem("rockAnim".concat(e.id)),clearDomItem("shot".concat(o)),asteroids.splice(t,1),0==asteroids.length&&regenerateAsteroids()}document.addEventListener("DOMContentLoaded",function(){setUpSounds(),scoreNum=document.querySelector("#scoreNum"),versionNum=document.querySelectorAll(".versionNum"),lifeNum=document.querySelector("#lifeNum"),highScoreCnt=document.querySelector("#highScoreCnt"),gameWrapper=document.querySelector("#game__wrapper"),gameOverBoard=document.querySelector("#gameOverBoard"),startOver=document.querySelector("#startOver"),document.querySelector("#currentYear").innerText=currentYear,dialogCloseBtn.addEventListener("click",function(){modalHandler()}),versionNum.forEach(function(e){return e.innerText=version}),resetGame(),xLimit>768&&(inPlay=!1,modalHandler("open"));setInterval(function(){animateScreen()},deltaTime)}),lifeCnt>0&&(document.onkeydown=function(e){if(1==inPlay)switch(spaceShipSvg.style.opacity=1,e.code){case"KeyD":turn=1.5;break;case"KeyA":turn=-1.5;break;case"KeyW":thrust=1;break;case"KeyS":thrust=-1;break;case"Enter":startOver.blur(),pewpew(),resetGun=!1;break;case"Space":hyperspace();break;case"KeyP":e.ctrlKey&&makeUFO(!0,.1);break;case"Backspace":case"Delete":e.ctrlKey&&(lifeCnt=1,boom())}},document.onkeyup=function(e){switch(e.code){case"KeyA":case"KeyD":turn=0,resetSound(turnSnd);break;case"KeyW":case"KeyS":thrust=0;break;case"Enter":resetGun=!0}},document.addEventListener("touchstart",function(e){switch(spaceShipSvg.style.opacity=1,e.target.id){case"btnLeft":turn=-1;break;case"btnRight":turn=1;break;case"btnUp":thrust=1;break;case"btnDown":thrust=-1;break;case"btnShoot":pewpew();break;case"btnHS":hyperspace()}}),document.addEventListener("touchend",function(e){switch(e.target.id){case"btnLeft":case"btnRight":turn=0,turnSnd.reset();break;case"btnUp":case"btnDown":thrust=0;break;case"glyphLeft":turn=0;break;case"btnShoot":resetGun=!0}}));var inCollision=function(e){return!badTouch(spaceship,e)},x=0,isHit=function(e){for(var t=asteroids,o=e,i=0;i<t.length;i++)if(0==badTouch(t[i],o))return blowUpAsteroid(t[i],i,o.id),!0},isSpaceShipHit=function(e){var t=e;if(0==badTouch(spaceship,t))return boom(t.id),ufoActive=!1,!0},isUfoHit=function(e){var t=ufo,o=e;if(0==badTouch(t,o))return blowUpUFO(t,o.id),ufoActive=!1,!0},badTouch=function(e,t){return e.y+e.height<t.y||e.y>t.y+t.height||e.x+e.width<t.x||e.x>t.x+t.width},pewpew=function(){lifeCnt>0&&!0===resetGun&&!0===inPlay&&(shootSnd.play(),makeShot("spaceShip"),resetGun=!1)},makeShot=function(e){shotCnt++,shots.push(new Shot(shotCnt,e,spaceship.x+spaceship.width/2,spaceship.y+spaceship.height/2,spaceship.vx,spaceship.vy,spaceship.theta,spaceship.yaw,1800,0,0)),makeShotSVG(shotCnt,"spaceShipShot","#f00")},makeShotSVG=function(e,t,o){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("id","".concat(t).concat(e)),i.setAttribute("data-id",e),i.setAttribute("class","".concat(t)),i.setAttribute("height",6),i.setAttribute("width",6);var n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",3),n.setAttribute("cy",3),n.setAttribute("r",10),n.setAttribute("stroke","#fff"),n.setAttribute("stroke-width",1),n.setAttribute("fill",o),i.appendChild(n),document.body.appendChild(i)},clearBullet=function(e,t,o){return e=e.filter(function(e){return e.id!==t}),clearDomItem(o),e},resetSpaceShip=function(){if(spaceShipSvg=document.querySelector("#spaceship"),lifeCnt>0){spaceShipSvg.style.cssText="display:block, opacity:.25",spaceship=new Spaceship(xLimit/2,yLimit/2,0,0,-90,0,0,0);var e=document.querySelector("#spawn");for(e.style.left=spawnBox.x,e.style.top=spawnBox.y,e.style.height=spawnBox.height,e.style.width=spawnBox.width,parkUFO(),clearTimeout(ufoTimer),spawnEnemy();!1===safeSpawn();)inPlay=!1,animateScreen();inPlay=!0,spaceShipSvg.style.opacity="1"}else inPlay=!1,spaceShipSvg.style.display="none",gameOverBoard.classList.add("open"),clearInterval(heartBeat),checkHighScoreCookie()},moveSpaceShip=function(e){0!=turn&&null!=turn?(spaceship.theta=spaceship.theta+turn*turn_per_milli*e,lifeCnt>0&&turnSnd.play()):resetSound(turnSnd),0!=thrust&&null!=thrust?(del_vx=(del_v=thrust*thrust_per_milli*e)*Math.cos(spaceship.theta*deg2rad),del_vy=del_v*Math.sin(spaceship.theta*deg2rad),lifeCnt>0&&thrustSnd.play()):(del_vx=0,del_vy=0,resetSound(thrustSnd)),spaceship.vx=spaceship.vx+del_vx,spaceship.vy=spaceship.vy+del_vy},updateSpaceShip=function(e){spaceship.x>=xLimit&&(spaceship.x=0),spaceship.x<0&&(spaceship.x=xLimit),spaceship.y>=yLimit&&(spaceship.y=0),spaceship.y<0&&(spaceship.y=yLimit),spaceship.theta+=spaceship.yaw*e,spaceship.x+=spaceship.vx*e,spaceship.y+=spaceship.vy*e,moveSpaceShip(e),moveItem(spaceShipSvg,spaceship.x,spaceship.y,spaceship.theta)},hyperspace=function(){lifeCnt>0&&1==inPlay&&(jumpCnt>0?(hyperpaceSnd.cycle(),spaceship.x=getRandomFloat(1,xLimit-5),spaceship.y=getRandomFloat(1,yLimit-5),spaceship.vx=0,spaceship.vy=0,jumpCnt--,highScoreCnt.innerText=jumpCnt):hyperSpaceFailSnd.play())},boom=function(e){spaceShipSvg.style.display="none",inPlay=!1,ufoActive=!1,spaceship.x=-1e3,spaceship.y=-1e3,spaceship.vx=0,spaceship.vy=0,boomSnd.play(),clearDomItem("ufoShot".concat(e)),lifeCnt>0&&(lifeCnt--,setTimeout(function(){jumpCnt=3,resetSpaceShip()},3e3))},addSpaceShip=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("id","spaceship");var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("stroke","#fff"),t.setAttribute("stroke-width",2),t.setAttribute("d","M ".concat(spaceship.shape," Z")),t.setAttribute("id","outerShip"),e.appendChild(t),document.body.appendChild(e)},spawnEnemy=function(){clearDomItem("ufoShip");var e=Math.floor(1e3*getRandomFloat(25,60));ufoTimer=setTimeout(function(){makeUFO(!0,.1)},e)},makeUFO=function(e,t){ufoActive=e;var o=Math.random()<.5?-1:1;ufo.x=ufo.x=o>0?0-ufo.width:xLimit+ufo.width,ufoSizeVar=Math.pow(Math.floor(10*Math.random()),2),--ufoAim<0&&(ufoAim=0);var i=t;ufo.y=getRandomFloat(0,yLimit),ufo.vx=getRandomFloat(1,ufoMaxSpeed)*o,(ufoMaxSpeed+=.25)>10&&(ufoMaxSpeed=10),ufo.points=200,(ufoSizeVar>75||score>=1e5)&&(i=.06,ufo.vx=getRandomFloat(3,10)*o,ufoAim=0,ufo.points=1e3);var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id","ufoShip"),n.setAttribute("class","ufo"),n.setAttribute("aria-hidden","true");var a=document.createElementNS("http://www.w3.org/2000/svg","polygon");a.setAttribute("fill-rule","evenodd"),a.setAttribute("points",Ufo.SHAPE),a.setAttribute("stroke","#fff"),a.setAttribute("stroke-width",15),a.setAttribute("id","myPolygon"),a.setAttribute("transform","scale(".concat(i,", ").concat(i,")")),n.appendChild(a),document.body.appendChild(n),n.style.cssText="width: ".concat(ufo.width,", height: ").concat(ufo.height);var s=setInterval(function(){if(1==ufoActive&&1==inPlay){ufoShotCnt++;var e=180*Math.atan2(spaceship.y-ufo.y,spaceship.x-ufo.x)/Math.PI+getRandomFloat(-1*ufoAim,ufoAim);ufoShots.push(new Shot(ufoShotCnt,"ufo",ufo.x,ufo.y,ufo.vx,ufo.vy,e,ufo.yaw,1800,0,0)),ufoBulletSnd.play(),.1==i?saucerBigSnd.play():saucerSmallSnd.play(),makeShotSVG(ufoShotCnt,"ufoShot","#0f0")}else clearInterval(s),resetSound(.1==i?saucerBigSnd:saucerSmallSnd)},ufoShootingSpeed)},blowUpUFO=function(e,t){ufoBoomSnd.cycle(),clearDomItem("ufoShip"),clearDomItem("spaceShipShot".concat(t)),pointCnt(e.points),parkUFO(),clearTimeout(ufoTimer),spawnEnemy()},parkUFO=function(){clearDomItem("ufoShip"),ufoActive=!1,ufo.x=-200,ufo.y=-200,ufo.vx=0,ufo.vy=0,clearDomClass("ufoShot")};function resetWindowLimit(e){var t,o,i;return o=window.innerHeight,i=window.innerHeight,"x"===e?(t=window.innerWidth,asteroids.forEach(function(e){e.x>=o-e.width&&e.changePosition(o-e.width,i-e.height)})):(t=window.innerHeight,asteroids.forEach(function(e){e.y>=i-e.height&&e.changePosition(o-e.width,i-e.height)})),t}function getRandomFloat(e,t){return Math.random()*(t-e)+e}window.addEventListener("resize",function(){xLimit=resetWindowLimit("x"),yLimit=resetWindowLimit("y")});var getSafeRandomFloat=function(e,t){var o=e+t/2,i=0;return Math.random()*(t-e)+e>=o&&(i=t),i},safeSpawn=function(){for(var e=asteroids,t=spawnBox,o=0;o<e.length;o++)if(0==(e[o].y+e[o].height<t.y||e[o].y>t.y+t.height||e[o].x+e[o].width<t.x||e[o].x>t.x+t.width))return!0},resetGame=function(){gameOverBoard.classList.remove("open"),generateBG(),startOver.blur(),clearDomClass("asteroid"),lifeCnt=lifeStart,jumpCnt=jumpStart,score=0,newLife=newLifeTarget,ufoAim=ufoAimStart,asteroids=[],beatCnt=1e3,regenerateAsteroids(),addSpaceShip(),resetSpaceShip(),null!=heartBeat&&clearInterval(heartBeat),1==inPlay&&0==firstRun&&heartBeatSnd(beatCnt)},generateBG=function(){1==randomBG&&(gameWrapper.style.cssText="background-image:url(../img/space".concat(Math.floor(getRandomFloat(1,7)),".jpg)"))},clearDomClass=function(e){document.querySelectorAll(".".concat(e)).forEach(function(e){return document.querySelector("#".concat(e.id)).remove()})},clearDomItem=function(e){var t=document.querySelector("#".concat(e));null!=t&&t.remove()},pointCnt=function(e){score+=e,(newLife-=e)<0&&(lifeCnt++,newLife=newLifeTarget+newLife,playExtraLife())},playExtraLife=function(){var e=new Sound("snd/extraShip.ogg");setTimeout(function(){e.play()},1),setTimeout(function(){e.play()},250),setTimeout(function(){e.play()},500)},moveItem=function(e,t,o,i){void 0!==i&&"number"==typeof i||(i=0);try{null!=e&&(e.style.left="".concat(t,"px"),e.style.top="".concat(o,"px"),e.style.transform="rotate(".concat(i,"deg)"))}catch(e){console.error(e.name),console.error(e.message),console.trace()}},hideCursor=function(){1==inPlay&&lifeCnt>0?gameWrapper.classList.add("cursorHide"):gameWrapper.classList.remove("cursorHide")},setUpSounds=function(){shootSnd=new Sound("snd/fire.mp3"),thrustSnd=new Sound("snd/thrust.mp3"),extraLifeSnd=new Sound("snd/extraShip.ogg"),ufoSnd=new Sound("snd/saucerBig.mp3"),ufoBulletSnd=new Sound("snd/laser.mp3"),ufoBoomSnd=new Sound("snd/bangMedium.mp3"),turnSnd=new Sound("snd/hiss.mp3"),hyperpaceSnd=new Sound("snd/hyperspace.mp3"),hyperSpaceFailSnd=new Sound("snd/Power-failure.mp3"),boomSnd=new Sound("snd/boom2.mp3"),astroBoom100Snd=new Sound("snd/bangLarge.mp3"),astroBoom50Snd=new Sound("snd/bangMedium.mp3"),astroBoom25Snd=new Sound("snd/bangSmall.mp3"),saucerBigSnd=new Sound("snd/saucerBig.mp3",!0),saucerSmallSnd=new Sound("snd/saucerSmall.ogg",!0),beat1Snd=new Sound("snd/beat1.ogg"),beat2Snd=new Sound("snd/beat2.ogg")},modalHandler=function(e){"open"===e?(modal.classList.add("open"),modalDialog.classList.add("open")):(modal.classList.remove("open"),modalDialog.classList.remove("open"),inPlay=!0,firstRun=!1,dialogCloseBtn.blur(),resetGame())},heartBeatSnd=function(e){!1===soundless&&(clearInterval(heartBeat),heartBeat=setInterval(function(){beat1Snd.play(),setTimeout(function(){beat2Snd.play()},e)},2*e))},resetSound=function(e){e.stop(),e.reset()},checkHighScoreCookie=function(){var e=localStorage.getItem("highScore-asteroids"),t=document.querySelector("#highScore").children;""===e||void 0===e?(localStorage.setItem("highScore-asteroids",score),t[0].innerHTML=score):e<=score?(localStorage.setItem("highScore-asteroids",score),t[0].innerHTML=score):t[0].innerHTML=e};